<div class="row header-bar text-center">
  <div class="col-xs-12">
    <h3>Compose Message & Address</h3>
  </div>
</div>

<div class="container">
  <div class="row top-margin-md text-center">
    <button type="button" class="btn" name="button" ng-click="$ctrl.nextStep()">Next Step ></button>
  </div>
  <div class="row top-margin-sm">
    <div class="col-xs-1"></div>
    <div class="col-md-5 col-xs-10">
      <!-- Postcard Back -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 450 306" class="standard-border-radius top-margin-sm">
      <style>
        .cls-1 {
          opacity: 0.2;
        }

        .cls-2 {
          stroke-linecap: round;
          stroke-miterlimit: 10;
          stroke-width: 2px;
        }
      </style>
        <g>
          <rect class="cls-1" fill="{{$ctrl.postcard.color}}" x="12.4" y="12.39" width="425.43" height="280.85"/>
          <line stroke="{{$ctrl.postcard.color}}" class="cls-2" x1="190.19" y1="275.99" x2="190.19" y2="30.01"/>
          <path fill="{{$ctrl.postcard.color}}" d="M0,0V305.62H450V0ZM437.83,293.23H12.4V12.39H437.83Z"/>
          <!-- Message Text -->
          <foreignObject x="20" y="80" width="200" height="150">
            <p class="message-preview">{{$ctrl.message}}</p>
          </foreignObject>
          <!-- To Text -->
          <foreignObject x="210" y="130" width="200" height="20">
            <p class="address-preview">From:</p>
          </foreignObject>
          <foreignObject x="240" y="130" width="200" height="20">
            <p class="address-preview">{{$ctrl.from.name}}</p>
            <p class="address-preview">{{$ctrl.from.address_line1}}</p>
            <p class="address-preview">{{$ctrl.from.address_line2}}</p>
            <p class="address-preview">{{$ctrl.from.address_city}}</p>
            <p class="address-preview">{{$ctrl.from.address_state}}</p>
            <p class="address-preview">{{$ctrl.from.address_zip}}</p>
          </foreignObject>
          <foreignObject x="210" y="200" width="200" height="20">
            <p class="address-preview">To:</p>
          </foreignObject>
          <foreignObject x="240" y="200" width="200" height="20">
            <p class="address-preview">{{$ctrl.to.name}}</p>
            <p class="address-preview">{{$ctrl.to.address_line1}}</p>
            <p class="address-preview">{{$ctrl.to.address_line2}}</p>
            <p class="address-preview">{{$ctrl.to.address_city}}</p>
            <p class="address-preview">{{$ctrl.to.address_state}}</p>
            <p class="address-preview">{{$ctrl.to.address_zip}}</p>
          </foreignObject>
        </g>
      </svg>
    </div>
    <div class="col-md-5 col-xs-10">
      <div class="row flex-row-spacing">
        <button class="btn-tab" ng-class="{'btn-tab-active': $ctrl.currentTab === 'message'}" ng-click="$ctrl.changeTab('message')" type="button" name="button">Message</button>
        <button class="btn-tab" ng-class="{'btn-tab-active': $ctrl.currentTab === 'from'}" ng-click="$ctrl.changeTab('from')" type="button" name="button">Send From</button>
        <button class="btn-tab" ng-class="{'btn-tab-active': $ctrl.currentTab === 'to'}" ng-click="$ctrl.changeTab('to')" type="button" name="button">Send To</button>
      </div>
      <div class="row" ng-if="$ctrl.currentTab === 'message'">
        <div class="col-xs-12 color-2 widget-container">
          <h4>Message</h4>
          <textarea class="text-widget" name="name" rows="4" cols="60" ng-model="$ctrl.message" maxlength="440"></textarea>
        </div>
      </div>

      <div class="row" ng-if="$ctrl.currentTab === 'from'">
        <div class="col-xs-12 color-2 widget-container">
          <h4>Send From:</h4>
          <div class="col-xs-4 form-column">
            <label class="form-label" for="from_name">Name</label>
            <label class="form-label" for="from_address_line1">Address Line 1</label>
            <label class="form-label" for="from_address_line2">Address Line 2</label>
            <label class="form-label" for="from_address_city">City</label>
            <label class="form-label" for="from_address_state">State</label>
            <label class="form-label" for="from_address_zip">Zipcode</label>
          </div>
          <div class="col-xs-8 form-column">
            <input class="form-field" type="text" name="from_name" ng-model="$ctrl.from.name" maxlength="40" required>
            <input class="form-field" type="text" name="from_address_line1" ng-model="$ctrl.from.address_line1" maxlength="40" required>
            <input class="form-field" type="text" name="from_address_line2" ng-model="$ctrl.from.address_line2" maxlength="40" required>
            <input class="form-field" type="text" name="from_address_city" ng-model="$ctrl.from.address_city" maxlength="40" required>
            <input class="form-field" type="text" name="from_address_state" ng-model="$ctrl.from.address_state" maxlength="2" required>
            <input class="form-field" type="text" name="from_address_zip" ng-model="$ctrl.from.address_zip" maxlength="5" required>
          </div>
        </div>
      </div>

      <div class="row" ng-if="$ctrl.currentTab === 'to'">
        <div class="col-xs-12 color-2 widget-container">
          <h4>Send To:</h4>
          <div class="col-xs-4 form-column">
            <label class="form-label" for="to_name">Name</label>
            <label class="form-label" for="to_address_line1">Address Line 1</label>
            <label class="form-label" for="to_address_line2">Address Line 2</label>
            <label class="form-label" for="to_address_city">City</label>
            <label class="form-label" for="to_address_state">State</label>
            <label class="form-label" for="to_address_zip">Zipcode</label>
          </div>
          <div class="col-xs-8 form-column">
            <input class="form-field" type="text" name="to_name" ng-model="$ctrl.to.name" maxlength="40" required>
            <input class="form-field" type="text" name="to_address_line1" ng-model="$ctrl.to.address_line1" maxlength="40" required>
            <input class="form-field" type="text" name="to_address_line2" ng-model="$ctrl.to.address_line2" maxlength="40" required>
            <input class="form-field" type="text" name="to_address_city" ng-model="$ctrl.to.address_city" maxlength="40" required>
            <input class="form-field" type="text" name="to_address_state" ng-model="$ctrl.to.address_state" maxlength="2" required>
            <input class="form-field" type="text" name="to_address_zip" ng-model="$ctrl.to.address_zip" maxlength="5" required>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
