<div class="row header-bar text-center">
  <div class="col-xs-12">
    <h3>Compose Image</h3>
  </div>
</div>

<div class="container">
  <div class="row top-margin-md text-center">
    <button type="button" class="btn" name="button" ng-click="$ctrl.nextStep()">Next Step ></button>
  </div>
  <div class="row top-margin-sm">
    <div class="col-md-1"></div>
    <div class="col-md-5 col-xs-12">
      <!-- Postcard Template -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 450 306" class="standard-border-radius">
        <defs>
          <filter id="pictureFilter" ><feColorMatrix type="matrix" values="1.1 0 0 0 -0.1 0 1.1 0 0 -0.1 0 0 1.1 0 -0.1 0 0 0 1 0" /></filter>
          <filter id="noFilter" >
            <feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />
          </filter>
          <filter id="add-saturation">
             <feColorMatrix type="saturate" values="4.00"/>
          </filter>
          <filter id="duotone-filter">
            <feColorMatrix
              type="matrix"
              values="1  0  0  0  0
                      1  0  0  0  0
                      1  0  0  0  0
                      0  0  0  1  0"/>
          </filter>
        </defs>
        <!-- <rect width="100%" height="100%"></rect> -->
        <image class="postcard-background" filter="url({{$ctrl.postcard.filter}})" xlink:href="{{$ctrl.postcard.background}}" x="0" y="0"/>
        <!-- <image fill="{{$ctrl.postcard.color}}" class="postcard-theme" xlink:href="{{$ctrl.postcard.frame}}" width="100%" height="100%" x="0" y="0"/> -->
        <text x="50%" y="25%" class="greetings-subtext" text-anchor="middle" fill="{{$ctrl.postcard.color}}">
          {{$ctrl.postcard.subtext}}
        </text>
        <!-- TODO Add a whole bunch of NG ifs -->
        <div ng-if="$ctrl.postcard.frame === 'classic-1'" classic-one></div>
        <div ng-if="$ctrl.postcard.frame === 'classic-2'" classic-two></div>
        <div ng-if="$ctrl.postcard.frame === 'classic-3'" classic-three></div>
        <div ng-if="$ctrl.postcard.frame === 'classic-4'" classic-four></div>
        <div ng-if="$ctrl.postcard.frame === 'classic-5'" classic-five></div>
        <div ng-if="$ctrl.postcard.frame === 'classic-6'" classic-six></div>

        <div ng-if="$ctrl.postcard.frame === 'playful-1'" playful-one></div>
        <div ng-if="$ctrl.postcard.frame === 'playful-2'" playful-two></div>
        <div ng-if="$ctrl.postcard.frame === 'playful-3'" playful-three></div>
        <div ng-if="$ctrl.postcard.frame === 'playful-4'" playful-four></div>
        <div ng-if="$ctrl.postcard.frame === 'playful-5'" playful-five></div>
        <div ng-if="$ctrl.postcard.frame === 'playful-6'" playful-six></div>

        <div ng-if="$ctrl.postcard.frame === 'modern-1'" modern-one></div>
        <div ng-if="$ctrl.postcard.frame === 'modern-2'" modern-two></div>
        <div ng-if="$ctrl.postcard.frame === 'modern-3'" modern-three></div>
        <div ng-if="$ctrl.postcard.frame === 'modern-4'" modern-four></div>
        <div ng-if="$ctrl.postcard.frame === 'modern-5'" modern-five></div>
        <div ng-if="$ctrl.postcard.frame === 'modern-6'" modern-six></div>

        <div ng-if="$ctrl.postcard.frame === 'wild-1'" wild-one></div>
        <div ng-if="$ctrl.postcard.frame === 'wild-2'" wild-two></div>
        <div ng-if="$ctrl.postcard.frame === 'wild-3'" wild-three></div>
        <div ng-if="$ctrl.postcard.frame === 'wild-4'" wild-four></div>
        <div ng-if="$ctrl.postcard.frame === 'wild-5'" wild-five></div>
        <div ng-if="$ctrl.postcard.frame === 'wild-6'" wild-six></div>

      </svg>
      <div class="widget-container color-2 text-center top-margin-sm" style="height:190px;">
        <h4 class="top-margin-sm">Edit Subtext</h4>
        <div class="row flex-row">
          <input class="text-widget" type="text" name="" ng-model="$ctrl.postcard.subtext" value="{{$ctrl.postcard.subtext}}">
        </div>
        <div class="top-margin-sm">
          <div class="col-xs-1"></div>
          <div class="col-xs-10">
            <p>Your postcard design will automatically be saved to the community postcard archive.</p>
            <3
          </div>
          <div class="col-xs-1"></div>
        </div>
      </div>
    </div>
    <div class="col-md-5 col-xs-12 widget-container color-2 text-center">
      <h4 class="top-margin-sm">Select Filter</h4>
      <div class="row flex-row">
        <!-- Color Selection -->
        <slick class="ui-widget color-1" dots="false" infinite="false" speed="300" slides-to-show="5" touch-move="false" slides-to-scroll="1">
          <div ng-repeat="filter in $ctrl.filters">
            <div>
              <a ng-click="$ctrl.selectFilter(filter.id)">
                <img class="widget-element" ng-src="assets/{{filter.asset_name}}" alt="">
              </a>
            </div>
          </div>
        </slick>
      </div>
      <h4 class="top-margin-sm">Select Frame</h4>
      <div class="row flex-row">
        <slick class="ui-widget color-1" dots="false" infinite="false" speed="300" slides-to-show="5" touch-move="false" slides-to-scroll="1">
          <div ng-repeat="singleFrame in $ctrl.frames">
            <div class="">
              <a ng-click="$ctrl.selectFrame(singleFrame.id)">
                <div class="widget-element"><h3>{{singleFrame.id}}</h3></div>
              </a>
            </div>
          </div>
        </slick>
      </div>
      <h4 class="top-margin-sm">Select Color</h4>
      <div class="row flex-row">
        <slick class="ui-widget color-1" dots="false" infinite="false" speed="300" slides-to-show="5" touch-move="false" slides-to-scroll="1">
          <div ng-repeat="color in $ctrl.colors">
            <div class="">
              <a ng-click="$ctrl.selectColor(color.id)">
                <div class="widget-element" style="background-color:{{color.c}};"></div>
              </a>
            </div>
          </div>
        </slick>
      </div>
      <h4 class="top-margin-sm">Select Font</h4>
      <div class="row flex-row">
        <slick class="ui-widget color-1" dots="false" infinite="false" speed="300" slides-to-show="5" touch-move="false" slides-to-scroll="1">
          <div ng-repeat="singleFrame in $ctrl.frames">
            <div class="">
              <a ng-click="$ctrl.selectFrame(singleFrame.id)">
                <img class="widget-element" ng-src="assets/{{singleFrame.asset_name}}" alt="">
              </a>
            </div>
          </div>
        </slick>
      </div>
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
